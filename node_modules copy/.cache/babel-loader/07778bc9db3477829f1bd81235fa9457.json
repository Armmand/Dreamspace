{"ast":null,"code":"var _jsxFileName = \"/Users/nick/devedit/src/components/Userprofile/index.js\";\nimport React from \"react\";\nimport { EmailIcon, FacebookIcon, LinkedinIcon } from \"react-share\";\nimport { withFirebase, storage } from \"../Firebase\"; //import storage from \"../Firebase/firbaseStorage\"\n\nimport { compose } from \"recompose\";\nimport { withRouter } from \"react-router-dom\";\nimport { AuthUserContext, withAuthorization, withEmailVerification } from \"../Session\";\nimport { Link } from \"react-router-dom\";\nimport * as ROUTES from \"../../constants/routes.js\";\nimport SignOut from \"../SignOut\";\nimport Setting from \"../../containers/Account\";\nconst options = [\"username\", \"profile\", \"setting\"];\n\nclass Userprofile extends React.Component {\n  constructor(props) {\n    // console.log(\"this is the props value:\" + props)\n    super(props);\n\n    this.togglePopup = () => {\n      this.setState({\n        showPopup: !this.state.showPopup\n      });\n    };\n\n    this.postPics = e => {\n      let pics = \"https://ya-webdesign.com/images250_/placeholder-image-png-1.png\";\n      {\n        this.state.crewDirectory && this.state.crewDirectory.map((staffPhoto, id) => {\n          console.log(\"stafphoto\", staffPhoto.fields.Photo); //if (staffPhoto.fields.Photo) {\n\n          this.setState({\n            pics: staffPhoto.fields.Photo\n          }); //  }\n        });\n      }\n    };\n\n    this.onUrlChange = e => {\n      this.setState({\n        url: e.target.value\n      });\n    };\n\n    this.upload = (e, authUser) => {\n      e.preventDefault();\n      console.log(\"my new url\", authUser.uid);\n      const autherId = authUser.uid;\n      this.props.firebase.user(autherId).update({\n        photoUrl: this.state.url\n      });\n      this.setState({\n        showPopup: false\n      });\n    };\n\n    this.cancleButton = e => {\n      this.setState({\n        showPopup: false\n      });\n    };\n\n    this.state = {\n      article: [],\n      username: \"\",\n      //photoUrl: \" \",\n      name: \"\",\n      email: \"\",\n      selectedFile: null,\n      image: null,\n      progress: 0,\n      crewDirectory: [],\n      file: \"\",\n      pics: [],\n      url: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.directoryAirTable();\n  }\n\n  directoryAirTable() {\n    const url = \"https://api.airtable.com/v0/appBu5I7tEJENCp45/Employee%20directory\";\n    fetch(url, {\n      headers: {\n        Authorization: \"Bearer \" + process.env.REACT_APP_DIRECTORY_AIRTABLE_KEY\n      }\n    }).then(response => response.json()).then(responseData => {\n      console.log(\"directory data \", responseData);\n      const crewDirectory = responseData.records;\n      console.log(\"crewDirectory \", crewDirectory);\n      this.setState({\n        crewDirectory: crewDirectory,\n        allDirectory: crewDirectory\n      });\n      console.log(\" crewDirectory\", this.state.crewDirectory);\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          selectedFile = _this$state.selectedFile,\n          url = _this$state.url,\n          crewDirectory = _this$state.crewDirectory,\n          pics = _this$state.pics;\n    console.log(\"pics1\", url);\n    let imgPreview;\n    let id;\n\n    if (this.state.file) {\n      imgPreview = React.createElement(\"img\", {\n        src: this.state.file,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      });\n    }\n\n    ;\n    return React.createElement(AuthUserContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, authUser => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dropdown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dropbtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      style: {\n        Color: \"#fae596\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \" \", React.createElement(\"img\", {\n      src: authUser.photoUrl,\n      className: \"user-profile1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })), \" \", React.createElement(\"i\", {\n      className: \"fa fa-caret-down\",\n      style: {\n        Color: \"#fae596\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"dropdown-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: authUser.photoUrl,\n      className: \"user-profile11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"PhotoCamera\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-camera\",\n      \"aria-hidden\": \"true\",\n      onClick: this.togglePopup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })), this.state.showPopup ? React.createElement(\"div\", {\n      className: \"profilewraper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"prfilecard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \" \", React.createElement(\"button\", {\n      className: \" canclebutton\",\n      onClick: e => this.cancleButton(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"x\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"uploadimage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"imageinput\",\n      type: \"text\",\n      placeholder: \"Drage and drop your Image-URl\",\n      value: this.state.url,\n      onChange: this.onUrlChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"imageupload\",\n      onClick: e => this.upload(e, authUser),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"upload Image\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: this.state.url || \"http://via.placeholder.com/100x100\",\n      alt: \"Uploaded images\" // height=\"100\"\n      //width=\"100\"\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }))) : null)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, authUser.username), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, authUser.email)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: ROUTES.ACCOUNT,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \" \", React.createElement(\"i\", {\n      className: \"fal fa-cog\",\n      style: {\n        Color: \"#fae596\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }), \"  \", \"UserSetting\", \" \"), React.createElement(SignOut, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nexport default withFirebase(Userprofile);","map":{"version":3,"sources":["/Users/nick/devedit/src/components/Userprofile/index.js"],"names":["React","EmailIcon","FacebookIcon","LinkedinIcon","withFirebase","storage","compose","withRouter","AuthUserContext","withAuthorization","withEmailVerification","Link","ROUTES","SignOut","Setting","options","Userprofile","Component","constructor","props","togglePopup","setState","showPopup","state","postPics","e","pics","crewDirectory","map","staffPhoto","id","console","log","fields","Photo","onUrlChange","url","target","value","upload","authUser","preventDefault","uid","autherId","firebase","user","update","photoUrl","cancleButton","article","username","name","email","selectedFile","image","progress","file","componentDidMount","directoryAirTable","fetch","headers","Authorization","process","env","REACT_APP_DIRECTORY_AIRTABLE_KEY","then","response","json","responseData","records","allDirectory","render","imgPreview","Color","ACCOUNT"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { EmailIcon, FacebookIcon, LinkedinIcon } from \"react-share\";\nimport { withFirebase, storage } from \"../Firebase\";\n//import storage from \"../Firebase/firbaseStorage\"\nimport { compose } from \"recompose\";\nimport { withRouter } from \"react-router-dom\";\nimport {\n  AuthUserContext,\n  withAuthorization,\n  withEmailVerification,\n} from \"../Session\";\nimport { Link } from \"react-router-dom\";\nimport * as ROUTES from \"../../constants/routes.js\";\nimport SignOut from \"../SignOut\";\nimport Setting from \"../../containers/Account\";\nconst options = [\"username\", \"profile\", \"setting\"];\nclass Userprofile extends React.Component {\n  constructor(props) {\n    // console.log(\"this is the props value:\" + props)\n    super(props);\n    this.state = {\n      article: [],\n      username: \"\",\n      //photoUrl: \" \",\n      name: \"\",\n      email: \"\",\n      selectedFile: null,\n      image: null,\n      progress: 0,\n      crewDirectory: [],\n      file: \"\",\n      pics: [],\n      url: \"\",\n    };\n  }\n  componentDidMount() {\n    this.directoryAirTable();\n  }\n  directoryAirTable() {\n    const url =\n      \"https://api.airtable.com/v0/appBu5I7tEJENCp45/Employee%20directory\";\n    fetch(url, {\n      headers: {\n        Authorization: \"Bearer \" + process.env.REACT_APP_DIRECTORY_AIRTABLE_KEY,\n      },\n    })\n      .then((response) => response.json())\n      .then((responseData) => {\n        console.log(\"directory data \", responseData);\n        const crewDirectory = responseData.records;\n        console.log(\"crewDirectory \", crewDirectory);\n        this.setState({\n          crewDirectory: crewDirectory,\n          allDirectory: crewDirectory,\n        });\n        console.log(\" crewDirectory\", this.state.crewDirectory);\n      });\n  }\n\n  togglePopup = () => {\n    this.setState({\n      showPopup: !this.state.showPopup,\n    });\n  };\n\n  postPics = (e) => {\n    let pics =\n      \"https://ya-webdesign.com/images250_/placeholder-image-png-1.png\";\n    {\n      this.state.crewDirectory &&\n        this.state.crewDirectory.map((staffPhoto, id) => {\n          console.log(\"stafphoto\", staffPhoto.fields.Photo);\n          //if (staffPhoto.fields.Photo) {\n          this.setState({\n            pics: staffPhoto.fields.Photo,\n          });\n\n          //  }\n        });\n    }\n  };\n  onUrlChange = (e) => {\n    this.setState({\n      url: e.target.value,\n    });\n  };\n\n  upload = (e, authUser) => {\n    e.preventDefault();\n    console.log(\"my new url\", authUser.uid);\n    const autherId = authUser.uid;\n    this.props.firebase.user(autherId).update({\n      photoUrl: this.state.url,\n    });\n    this.setState({showPopup:false})\n  };\n  cancleButton = (e) => {\n    this.setState({ showPopup: false });\n  }\n  render() {\n    const { selectedFile, url, crewDirectory, pics } = this.state;\n    console.log(\"pics1\", url);\n    let imgPreview;\n    let id;\n    if (this.state.file) {\n      imgPreview = <img src={this.state.file} alt=\"\" />;\n    }\n    ;\n    return (\n      <AuthUserContext.Consumer>\n        {(authUser) => (\n          <div>\n            <div className=\"dropdown\">\n              <div className=\"dropbtn\">\n                <i style={{ Color: \"#fae596\" }}>\n                  {\" \"}\n                  <img src={authUser.photoUrl} className=\"user-profile1\" />\n                </i>{\" \"}\n                <i className=\"fa fa-caret-down\" style={{ Color: \"#fae596\" }} />\n                <div className=\"dropdown-content\">\n                  <div>\n                    <span>\n                      <img src={authUser.photoUrl} className=\"user-profile11\" />\n                      <div className=\"PhotoCamera\">\n                        <span >\n                          <i\n                            className=\"fa fa-camera\"\n                            aria-hidden=\"true\"\n                            onClick={this.togglePopup}\n                          />\n                        </span>\n\n                        {this.state.showPopup ? (\n                         <div className=\"profilewraper\">\n                          <div className=\"prfilecard\">\n                            <div  > <button className=\" canclebutton\" onClick={e => this.cancleButton(e)}>x</button></div>\n                            <br/>\n                            {/* <button onClick={this.postPics}>\n                              Upload your photo\n                            </button>\n                            {pics &&\n                              pics.map((pic, id) => {\n                                return (\n                                  <div>\n                                    <img\n                                      src={pic.url}\n                                      \n                                      alt=\"Staff Photos\"\n                                     \n                                      onClick={this.handlOnchange}\n                                      width=\"40\"\n                                      height=\"40\"\n                                    />\n                                  </div>\n                                );\n                              })}\n\n                            <button onClick={this.upload}>\n                              set as profile photo\n                            </button>*/}\n                            <div className=\"uploadimage\">\n                              <input\n                                className=\"imageinput\"\n                                type=\"text\"\n                                placeholder=\"Drage and drop your Image-URl\"\n                                value={this.state.url}\n                                onChange={this.onUrlChange}\n                                required\n                              />\n                              <button\n\n                                className=\"imageupload\"\n                                onClick={(e) => this.upload(e, authUser)}\n                                \n                              >\n                                upload Image\n                              </button>\n                            </div>\n                            <br />\n\n                            <img\n                              src={\n                                this.state.url ||\n                                \"http://via.placeholder.com/100x100\"\n                              }\n                              alt=\"Uploaded images\"\n                             // height=\"100\"\n                              //width=\"100\"\n                            />\n                          </div>\n                          </div>\n                        ) : null}\n                      </div>\n                      \n                    </span>\n                    \n                    <br/><br/>\n\n\n                    <p>{authUser.username}</p>\n                    <p>{authUser.email}</p>\n                  </div>\n\n                  <div>\n                    <Link to={ROUTES.ACCOUNT}>\n                      {\" \"}\n                      <i className=\"fal fa-cog\" style={{ Color: \"#fae596\" }} />\n                      {\"  \"}\n                      UserSetting{\" \"}\n                    </Link>\n                    <SignOut />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </AuthUserContext.Consumer>\n    );\n  }\n}\nexport default withFirebase(Userprofile);\n"]},"metadata":{},"sourceType":"module"}