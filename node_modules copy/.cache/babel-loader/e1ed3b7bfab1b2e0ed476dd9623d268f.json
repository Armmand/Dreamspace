{"ast":null,"code":"import _objectSpread from \"/Users/nick/devedit/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/nick/devedit/src/containers/Dashboard/index.js\";\nimport React from \"react\"; //import myimage from \"../../assets/images/nice-piccy3.jpg\";\n\nimport { compose } from \"recompose\";\nimport { withAuthorization, withEmailVerification } from \"../../components/Session\";\nimport { Link } from \"react-router-dom\";\nimport * as ROUTES from \"../../constants/routes.js\";\nimport { withFirebase } from \"../../components/Firebase\";\nimport ListItems from \"../../components/ListItems\";\nimport Create_article from \"../Create-article\";\nimport SearchBar from \"../../components/Search-bar\";\nimport Directory from \"../../components/Directory\";\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInput = e => {\n      console.log(e.target.value);\n      this.setState({\n        search: e.target.value\n      });\n    };\n\n    this.state = {\n      articles: [],\n      search: \"\"\n    };\n  }\n\n  componentDidMount() {\n    // let articles =this.props.firebase.articles()\n    this.unsubscribe = this.props.firebase.articles().onSnapshot(snapshot => {\n      let articles = [];\n      snapshot.forEach(doc => articles.push(_objectSpread({}, doc.data(), {\n        uid: doc.id\n      }))); // console.log(\"Articles loaded here yo!\", articles);\n\n      this.setState({\n        articles\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  render() {\n    let filteredArticles = this.state.articles.filter(article => {\n      return article.tags.toLowerCase().includes(this.state.search.toLowerCase()), article.title.toLowerCase().includes(this.state.search.toLowerCase()), article.description.toLowerCase().includes(this.state.search.toLowerCase());\n    });\n    return React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"main-class\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"search-bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(SearchBar, {\n      handleInput: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"create-post\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Create_article, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"popular-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        float: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Popular Posts\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(ListItems, {\n      filteredArticles: filteredArticles //recipes={this.state.recipes}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Directory, {\n      crewDirectory: this.state.crewDirectory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst condition = authUser => !!authUser;\n\nexport default compose(withFirebase, withAuthorization(condition))(Dashboard);","map":{"version":3,"sources":["/Users/nick/devedit/src/containers/Dashboard/index.js"],"names":["React","compose","withAuthorization","withEmailVerification","Link","ROUTES","withFirebase","ListItems","Create_article","SearchBar","Directory","Dashboard","Component","constructor","props","handleInput","e","console","log","target","value","setState","search","state","articles","componentDidMount","unsubscribe","firebase","onSnapshot","snapshot","forEach","doc","push","data","uid","id","componentWillUnmount","render","filteredArticles","filter","article","tags","toLowerCase","includes","title","description","float","crewDirectory","condition","authUser"],"mappings":"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","sourcesContent":["import React from \"react\";\n//import myimage from \"../../assets/images/nice-piccy3.jpg\";\nimport { compose } from \"recompose\";\nimport {\n  withAuthorization,\n  withEmailVerification\n} from \"../../components/Session\";\nimport { Link } from \"react-router-dom\";\nimport * as ROUTES from \"../../constants/routes.js\";\nimport { withFirebase } from \"../../components/Firebase\";\nimport ListItems from \"../../components/ListItems\";\nimport Create_article from \"../Create-article\";\nimport SearchBar from \"../../components/Search-bar\";\nimport Directory from \"../../components/Directory\";\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      articles: [],\n      search: \"\"\n    };\n  }\n\n  componentDidMount() {\n    // let articles =this.props.firebase.articles()\n    this.unsubscribe = this.props.firebase.articles().onSnapshot(snapshot => {\n      let articles = [];\n      snapshot.forEach(doc => articles.push({ ...doc.data(), uid: doc.id }));\n\n      // console.log(\"Articles loaded here yo!\", articles);\n      this.setState({ articles });\n    });\n  }\n\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n\n  \n  handleInput = e => {\n    console.log(e.target.value);\n    this.setState({\n      search: e.target.value\n    });\n  };\n  render() {\n    let filteredArticles = this.state.articles.filter(article => {\n      return (\n        article.tags.toLowerCase().includes(this.state.search.toLowerCase()),\n        article.title.toLowerCase().includes(this.state.search.toLowerCase()),\n        article.description\n          .toLowerCase()\n          .includes(this.state.search.toLowerCase())\n      );\n    });\n    return (\n      <div className=\"wrapper\">\n        <div className=\"main-class\">\n        <div className=\"search-bar\" >\n          <SearchBar handleInput={this.handleInput} />\n        </div>\n        <div className=\"create-post\">\n          <Create_article />\n        </div>\n        \n        </div>\n        <div className=\"popular-title\">\n          <p style={{ float: \"left\" }}>Popular Posts</p>\n        </div>\n        <div>\n          <ListItems\n            filteredArticles={filteredArticles}\n\n            //recipes={this.state.recipes}\n          />\n        </div>\n        <div>\n          <Directory \n            crewDirectory={this.state.crewDirectory}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst condition = authUser => !!authUser;\n\nexport default compose(withFirebase, withAuthorization(condition))(Dashboard);\n"]},"metadata":{},"sourceType":"module"}