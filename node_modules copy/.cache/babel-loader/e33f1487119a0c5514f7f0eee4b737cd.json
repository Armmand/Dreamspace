{"ast":null,"code":"var _jsxFileName = \"/Users/nick/devedit/src/containers/Directory/index.js\";\nimport React from 'react';\nimport DirectorySearchBar from '../../ctd-project-components/DirectorySearchBar';\nimport DirectoryList from '../../ctd-project-components/DirectoryList';\n\nclass Directory extends React.Component {\n  constructor() {\n    super();\n\n    this.selectedStaffMember = id => {\n      const allStaffMember = this.state.crewDirectory;\n      console.log(\"see\", id);\n      const selectStaffMember = allStaffMember.find(x => x.id === id);\n      console.log(selectStaffMember);\n\n      if (this.handleClick()) {\n        this.setState({\n          selectStaffMember\n        });\n      }\n    };\n\n    this.filterDirectory = searchTerm => {\n      console.log('searchTerm ', searchTerm);\n      let directory = this.state.allDirectory;\n      const formattedSearch = searchTerm.toLowerCase();\n      console.log(directory);\n      const results = directory.filter(person => {\n        console.log(person);\n        let grabData = (person.fields.Name + person.fields.Phone + person.fields['Email Address']).replace(/[^a-zA-Z0-9]/g, \"\").toLowerCase();\n        return grabData.indexOf(formattedSearch) > -1;\n      });\n      console.log(results);\n      this.setState({\n        crewDirectory: results\n      });\n    };\n\n    this.state = {\n      crewDirectory: [],\n      searchDirectory: \"\",\n      isFlipped: false,\n      cardId: []\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  getCards() {\n    let cards = this.state.cardId;\n    console.log('cards ', cards);\n  }\n\n  handleClick() {\n    this.setState(prevState => ({\n      isFlipped: !prevState.isFlipped\n    }));\n  }\n\n  componentDidMount() {\n    this.directoryAirTable();\n    this.projectAirTable();\n  }\n\n  directoryAirTable() {\n    const url = \"https://api.airtable.com/v0/appBu5I7tEJENCp45/Employee%20directory\";\n    fetch(url, {\n      headers: {\n        Authorization: \"Bearer \" + process.env.REACT_APP_DIRECTORY_AIRTABLE_KEY\n      }\n    }).then(response => response.json()).then(responseData => {\n      console.log(\"directory data \", responseData);\n      const crewDirectory = responseData.records;\n      console.log(\"crewDirectory \", crewDirectory);\n      this.setState({\n        crewDirectory: crewDirectory,\n        allDirectory: crewDirectory\n      });\n    });\n  }\n\n  projectAirTable() {\n    const url = \"https://api.airtable.com/v0/appQSPi3XUdUMbM1m/Projects\";\n    fetch(url, {\n      headers: {\n        Authorization: \"Bearer \" + process.env.REACT_APP_AIRTABLE_KEY\n      }\n    }).then(response => response.json()).then(responseData => {\n      console.log(\"data from Airtable\", responseData);\n      const projectData = responseData.records;\n      console.log(\"projectData \", projectData);\n      this.setState({\n        projectData: projectData\n      });\n    });\n  }\n\n  render() {\n    // let flipIndividually = \n    return React.createElement(\"div\", {\n      className: \"directory-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, this.state.crewDirectory && React.createElement(DirectorySearchBar, {\n      crewDirectory: this.state.crewDirectory,\n      selectedStaffMember: this.selectedStaffMember,\n      handleInput: this.handleInput,\n      filterDirectory: this.filterDirectory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), this.state.crewDirectory && React.createElement(DirectoryList, {\n      crewDirectory: this.state.crewDirectory,\n      selectedStaffMember: this.selectedStaffMember,\n      projectData: this.state.projectData,\n      handleClick: this.handleClick,\n      isFlipped: this.state.isFlipped,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Directory;","map":{"version":3,"sources":["/Users/nick/devedit/src/containers/Directory/index.js"],"names":["React","DirectorySearchBar","DirectoryList","Directory","Component","constructor","selectedStaffMember","id","allStaffMember","state","crewDirectory","console","log","selectStaffMember","find","x","handleClick","setState","filterDirectory","searchTerm","directory","allDirectory","formattedSearch","toLowerCase","results","filter","person","grabData","fields","Name","Phone","replace","indexOf","searchDirectory","isFlipped","cardId","bind","getCards","cards","prevState","componentDidMount","directoryAirTable","projectAirTable","url","fetch","headers","Authorization","process","env","REACT_APP_DIRECTORY_AIRTABLE_KEY","then","response","json","responseData","records","REACT_APP_AIRTABLE_KEY","projectData","render","handleInput"],"mappings":"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","sourcesContent":["import React from 'react';\nimport DirectorySearchBar from '../../ctd-project-components/DirectorySearchBar';\nimport DirectoryList from '../../ctd-project-components/DirectoryList';\n\nclass Directory extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      crewDirectory: [],\n      searchDirectory: \"\",\n      isFlipped: false,\n      cardId: [],\n    }\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  getCards() {\n    let cards = this.state.cardId;\n    console.log('cards ', cards)\n  }\n  \n  handleClick() {\n    this.setState(prevState => ({isFlipped: !prevState.isFlipped}));\n  }\n   \n  componentDidMount() {\n    this.directoryAirTable();\n    this.projectAirTable();\n  }\n\n  selectedStaffMember = id => {\n    const allStaffMember = this.state.crewDirectory;\n    console.log(\"see\", id);\n    const selectStaffMember = allStaffMember.find(x => x.id === id);\n    console.log(selectStaffMember);\n    if(this.handleClick()) {\n      this.setState({selectStaffMember});\n    }\n  };\n  \n  directoryAirTable() {\n    const url = \"https://api.airtable.com/v0/appBu5I7tEJENCp45/Employee%20directory\";\n      fetch(url, {\n        headers: { Authorization: \"Bearer \" + process.env.REACT_APP_DIRECTORY_AIRTABLE_KEY  }\n      })\n      .then(response => response.json())\n      .then(responseData => {\n        console.log(\"directory data \", responseData);\n        const crewDirectory = responseData.records;\n        console.log(\"crewDirectory \", crewDirectory);\n        this.setState({\n          crewDirectory: crewDirectory, \n          allDirectory: crewDirectory,\n        })\n\n      });\n    }\n    projectAirTable() {\n      const url = \"https://api.airtable.com/v0/appQSPi3XUdUMbM1m/Projects\";\n      fetch(url, {\n        headers: { Authorization: \"Bearer \" + process.env.REACT_APP_AIRTABLE_KEY }\n      })\n        .then(response => response.json())\n        .then(responseData => {\n          console.log(\"data from Airtable\", responseData);\n          const projectData = responseData.records;\n          console.log(\"projectData \", projectData);\n          this.setState({ projectData: projectData});\n        });\n      }\n\n  filterDirectory = searchTerm => {\n    console.log('searchTerm ', searchTerm)\n    let directory = this.state.allDirectory;\n    const formattedSearch = searchTerm.toLowerCase();\n    console.log(directory)\n    \n    const results = directory.filter(person => {\n      console.log(person)\n      let grabData = (\n        person.fields.Name +\n        person.fields.Phone +\n        person.fields['Email Address']\n      )\n      .replace(/[^a-zA-Z0-9]/g, \"\")\n      .toLowerCase();\n      return grabData.indexOf(formattedSearch) > -1;\n    })\n    console.log(results)\n    this.setState({ crewDirectory: results })\n    }\n  render() {\n      // let flipIndividually = \n    return(\n      <div className = 'directory-container'>\n        {this.state.crewDirectory && (<DirectorySearchBar \n          crewDirectory={this.state.crewDirectory}\n          selectedStaffMember={this.selectedStaffMember}\n          handleInput={this.handleInput}\n          filterDirectory={this.filterDirectory}\n        />\n        )}\n        {this.state.crewDirectory && (<DirectoryList \n          crewDirectory={this.state.crewDirectory}\n          selectedStaffMember={this.selectedStaffMember}\n          projectData={this.state.projectData}\n          handleClick={this.handleClick}\n          isFlipped={this.state.isFlipped}\n        />)}\n     </div>\n   \n    )\n    \n  }\n}\n\nexport default Directory \n  "]},"metadata":{},"sourceType":"module"}