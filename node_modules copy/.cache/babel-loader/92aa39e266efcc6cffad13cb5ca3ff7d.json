{"ast":null,"code":"var _jsxFileName = \"/Users/nick/devedit/src/containers/Directory/index.js\";\nimport React from 'react'; // import { compose } from \"recompose\";\n\nimport DirectorySearchBar from '../../ctd-project-components/DirectorySearchBar';\nimport DirectoryList from '../../ctd-project-components/DirectoryList';\n\nclass Directory extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      crewDirectory: [],\n      searchDirectory: \"\"\n    };\n\n    this.selectedStaffMember = id => {\n      let allStaffMembers = this.state.crewDirectory;\n      console.log('look at ', id);\n      let selectStaffMember = allStaffMembers.find(x => x.id === id);\n      console.log('selectStaffMember ', selectStaffMember);\n      this.setState({\n        selectStaffMember\n      });\n    };\n\n    this.handleInput = e => {\n      console.log(e.target.value);\n      this.setState({\n        searchDirectory: e.target.value\n      });\n    };\n\n    this.filterWhatIsPicked = () => {\n      let filterDirectory = this.state.crewDirectory.filter(search => {\n        let grabData = search.Name + search.Phone + search['Email Address'];\n        return grabData.includes(this.state.searchDirectory);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.directoryAirTable();\n  }\n\n  // filterList = text => {\n  //   const {crewDirectory} = this.state;\n  //   const allResults = crewDirectory.filter(search => {\n  //     const lookAtData = \n  //   })\n  // }\n  directoryAirTable() {\n    const url = \"https://api.airtable.com/v0/appBu5I7tEJENCp45/Employee%20directory\";\n    fetch(url, {\n      headers: {\n        Authorization: \"Bearer \" + process.env.REACT_APP_DIRECTORY_AIRTABLE_KEY\n      }\n    }).then(response => response.json()).then(responseData => {\n      console.log(\"directory data \", responseData);\n      const crewDirectory = responseData.records;\n      console.log(\"crewDirectory \", crewDirectory);\n      this.setState({\n        crewDirectory: crewDirectory\n      });\n    });\n  }\n\n  render() {\n    let filterDirectory = this.state.crewDirectory.filter(search => {\n      let grabData = search.Name + search.Phone + search['Email Address'];\n      console.log('grabData ', grabData);\n      return grabData.includes(this.state.searchDirectory);\n    }); // let filterNumber = this.state.crewDirectory.filter(phone => {\n    //   return phone.fields.Phone.includes(this.state.searchDirectory)                 // Part of the phone number filter attempt. Check DirectoryList.js\n    // })\n\n    return React.createElement(\"div\", {\n      className: \"directory-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, this.state.crewDirectory && React.createElement(DirectorySearchBar, {\n      crewDirectory: this.state.crewDirectory,\n      selectedStaffMember: this.selectedStaffMember,\n      handleInput: this.handleInput,\n      testFunc: this.func // filterTheWholeDirectory={this.filterTheWholeDirectory}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), this.state.crewDirectory && React.createElement(DirectoryList, {\n      crewDirectory: this.state.crewDirectory,\n      selectedStaffMember: this.selectedStaffMember // filterTheWholeDirectory={this.filterTheWholeDirectory}\n      ,\n      filterDirectory: filterDirectory // filterNumbers={filterNumber}                                                 // Part of the phone number filter.\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Directory;","map":{"version":3,"sources":["/Users/nick/devedit/src/containers/Directory/index.js"],"names":["React","DirectorySearchBar","DirectoryList","Directory","Component","state","crewDirectory","searchDirectory","selectedStaffMember","id","allStaffMembers","console","log","selectStaffMember","find","x","setState","handleInput","e","target","value","filterWhatIsPicked","filterDirectory","filter","search","grabData","Name","Phone","includes","componentDidMount","directoryAirTable","url","fetch","headers","Authorization","process","env","REACT_APP_DIRECTORY_AIRTABLE_KEY","then","response","json","responseData","records","render","func"],"mappings":"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","sourcesContent":["import React from 'react';\n// import { compose } from \"recompose\";\nimport DirectorySearchBar from '../../ctd-project-components/DirectorySearchBar';\nimport DirectoryList from '../../ctd-project-components/DirectoryList';\n\nclass Directory extends React.Component {\n  state = {\n    crewDirectory: [],\n    searchDirectory: \"\",\n  }\n  componentDidMount() {\n    this.directoryAirTable();\n  }\n\n  selectedStaffMember = (id) => {                                                  \n    let allStaffMembers = this.state.crewDirectory;                                \n    console.log('look at ', id)                                                      \n    let selectStaffMember = allStaffMembers.find(x => x.id === id);\n    console.log('selectStaffMember ', selectStaffMember)                                      \n    this.setState({                                                                \n       selectStaffMember                                                    \n    })                                                                \n  } \n    \n  // filterTheWholeDirectory = text => {\n  //   const { crewDirectory } = this.state;\n  //   const showResults = crewDirectory.filter(search => {\n  //     const grabData = (\n  //       search.Name +\n  //       search.Phone +\n  //       search.id +\n  //       search.Email +\n  //       search.Directory\n  //     )\n  //     .replace (/[^a-zA-Z0-9]/g, \"\")     // need to read up more on regex\n  //     .toLowerCase();\n\n  //     const textFormatted = text.toLowerCase()\n  //     return grabData.indexOf(textFormatted.replace(/\\s/g, \"\")) > -1;   // i don't  understand the regex.\n  //   })\n  //   this.setState({\n  //     directorySearch: showResults,\n  //     text\n  //   });\n  // };\n\n  handleInput = e => {\n    console.log(e.target.value);\n    this.setState({\n      searchDirectory: e.target.value\n    })\n  };\n\n \n\n  filterWhatIsPicked = () => {\n    let filterDirectory = this.state.crewDirectory.filter(search => {\n      let grabData = (\n        search.Name +\n        search.Phone +\n        search['Email Address']\n      )\n      return grabData.includes(this.state.searchDirectory)\n    })\n  }\n\n// filterList = text => {\n//   const {crewDirectory} = this.state;\n//   const allResults = crewDirectory.filter(search => {\n//     const lookAtData = \n//   })\n// }\n\n  directoryAirTable() {\n    const url = \"https://api.airtable.com/v0/appBu5I7tEJENCp45/Employee%20directory\";\n      fetch(url, {\n        headers: { Authorization: \"Bearer \" + process.env.REACT_APP_DIRECTORY_AIRTABLE_KEY  }\n      })\n      .then(response => response.json())\n      .then(responseData => {\n        console.log(\"directory data \", responseData);\n        const crewDirectory = responseData.records;\n        console.log(\"crewDirectory \", crewDirectory);\n        this.setState({crewDirectory: crewDirectory})\n      });\n    }\n\n  render() {\n    \n    \n    \n    let filterDirectory = this.state.crewDirectory.filter(search => {\n      let grabData = (\n        search.Name +\n        search.Phone +\n        search['Email Address']\n      )\n      console.log('grabData ', grabData)\n      return grabData.includes(this.state.searchDirectory);\n    })\n\n   \n    // let filterNumber = this.state.crewDirectory.filter(phone => {\n    //   return phone.fields.Phone.includes(this.state.searchDirectory)                 // Part of the phone number filter attempt. Check DirectoryList.js\n    // })\n\n    return(\n      <div className = 'directory-container'>\n        {this.state.crewDirectory && (<DirectorySearchBar \n          crewDirectory={this.state.crewDirectory}\n          selectedStaffMember={this.selectedStaffMember}\n          handleInput={this.handleInput}\n          testFunc={this.func}\n          // filterTheWholeDirectory={this.filterTheWholeDirectory}\n        />\n        )}\n        {this.state.crewDirectory && (<DirectoryList \n          crewDirectory={this.state.crewDirectory}\n          selectedStaffMember={this.selectedStaffMember}\n          // filterTheWholeDirectory={this.filterTheWholeDirectory}\n          filterDirectory={filterDirectory}\n          // filterNumbers={filterNumber}                                                 // Part of the phone number filter.\n        />)}\n     </div>\n   \n    )\n    \n  }\n}\n\nexport default Directory "]},"metadata":{},"sourceType":"module"}