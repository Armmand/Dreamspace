{"ast":null,"code":"var _jsxFileName = \"/Users/nick/devedit/src/components/Comment/index.js\";\nimport React from \"react\";\nimport { compose } from \"recompose\";\nimport { AuthUserContext, withAuthorization, withEmailVerification } from \"../../components/Session\";\nimport { withFirebase } from \"../../components/Firebase\";\nimport ReplyComment from \"../ReplyComment\";\n\nconst moment = require(\"moment\");\n\nclass Comment extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = (e, commentId) => {\n      e.preventDefault(); //console.log(\"this is the event\",e)\n      //const {commentId}=this.props.comments.commentId\n\n      console.log(\"this is the commentId for the reply\", commentId); //console.log(\"show the reply\",this.state.reply)\n\n      this.props.firebase.replys(commentId).add({\n        // commentId:commentId,\n        reply: this.state.reply,\n        timeCreated: moment().format(\" MMMM DD, YYYY  --  hh:mm:ss A \")\n      }).then(docRef => {\n        console.log(\" this is the replysID \", docRef.id);\n      });\n      this.setState({\n        reply: \"\"\n      });\n    };\n\n    this.handleChange = e => {\n      console.log(e.target.value);\n      this.setState({\n        reply: e.target.value\n      });\n    };\n\n    this.togglePopup = () => {\n      //const{commentId}=this.props\n      this.setState({\n        showPopup: !this.state.showPopup\n      }); //console.log(\"this is the commentId\", commentId)\n    };\n\n    this.cancle = () => {\n      this.setState({\n        showPopup: false\n      });\n    };\n\n    this.showMore = () => this.setState({\n      showAll: true\n    });\n\n    this.showLess = () => this.setState({\n      showAll: false\n    });\n\n    this.state = {\n      comments: [],\n      showAll: false,\n      replies: [],\n      // isOldestFirst: \"\",\n      commentId: \"\",\n      reply: \"\",\n      timeCreated: \"\"\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          comment = _this$props.comment,\n          limited = _this$props.limited,\n          timeCreated = _this$props.timeCreated,\n          reply = _this$props.reply;\n    const showAll = this.state.showAll;\n    let commentContent = comment.comment; //  const { reply } = this.state;\n    // console.log(\"Here is your comment \", comment);\n\n    if (comment.comment && comment.comment.length <= limited) {\n      // console.log(\"IF\", comment.comment, comment.comment.length);\n      return React.createElement(AuthUserContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, authUser => React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"commentDisplay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"styleDisplay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, comment.timeCreated, \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), comment.comment, \" \"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Reply\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.togglePopup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-comment\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \" \"), \"Reply\")), this.state.showPopup ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"card-addcomment\",\n        onSubmit: e => this.handleSubmit(e, comment.commentId),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"commentgrid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        className: \"commentContent\" // id=\"reply\"\n        ,\n        type: \"text\",\n        value: this.state.reply //name=\"reply\"\n        ,\n        placeholder: \"Write your Reply here! \",\n        autoFocus: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"submit-btn\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Reply\"), React.createElement(\"button\", {\n        className: \"submit-btn\",\n        onClick: this.cancle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"cancle\")))) : null, React.createElement(ReplyComment, {\n        commentID: comment.commentID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }))))));\n    } else {\n      //  console.log(\"ELSE\", comment.comment, comment.comment.length);\n      if (showAll) {\n        return React.createElement(\"div\", {\n          className: \"card-comment\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"commentDisplay\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"styleDisplay\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, comment.timeCreated, \" \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }), comment.comment, React.createElement(\"a\", {\n          onClick: this.showLess,\n          style: {\n            color: \"darkblue\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, \"Read less\"))));\n      }\n    } //console.log(\"this is commentContent\",commentContent)\n\n\n    const toShow = commentContent.slice(0, limited) + \"....\";\n\n    if (toShow) {\n      return React.createElement(\"div\", {\n        className: \"card-comment\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"commentDisplay \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"styleDisplay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, comment.timeCreated, \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), toShow, React.createElement(\"a\", {\n        onClick: this.showMore,\n        style: {\n          color: \"darkblue\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \" \", \"Read More\", \" \")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      })));\n    }\n  }\n\n}\n\nexport default compose(withFirebase)(Comment);","map":{"version":3,"sources":["/Users/nick/devedit/src/components/Comment/index.js"],"names":["React","compose","AuthUserContext","withAuthorization","withEmailVerification","withFirebase","ReplyComment","moment","require","Comment","Component","constructor","props","handleSubmit","e","commentId","preventDefault","console","log","firebase","replys","add","reply","state","timeCreated","format","then","docRef","id","setState","handleChange","target","value","togglePopup","showPopup","cancle","showMore","showAll","showLess","comments","replies","render","comment","limited","commentContent","length","authUser","commentID","color","toShow","slice"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SACEC,eADF,EAEEC,iBAFF,EAGEC,qBAHF,QAIO,0BAJP;AAKA,SAASC,YAAT,QAA6B,2BAA7B;AACA,OAAOC,YAAP,MAAyB,iBAAzB;;AACA,MAAMC,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAMC,OAAN,SAAsBT,KAAK,CAACU,SAA5B,CAAsC;AACpCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAanBC,YAbmB,GAaJ,CAACC,CAAD,EAAIC,SAAJ,KAAkB;AAC/BD,MAAAA,CAAC,CAACE,cAAF,GAD+B,CAE/B;AACA;;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ,EAAmDH,SAAnD,EAJ+B,CAK/B;;AACA,WAAKH,KAAL,CAAWO,QAAX,CACGC,MADH,CACUL,SADV,EAEGM,GAFH,CAEO;AACH;AACAC,QAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,KAFf;AAGHE,QAAAA,WAAW,EAAEjB,MAAM,GAAGkB,MAAT;AAHV,OAFP,EAOGC,IAPH,CAOQC,MAAM,IAAI;AACdV,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCS,MAAM,CAACC,EAA7C;AACD,OATH;AAWA,WAAKC,QAAL,CAAc;AACZP,QAAAA,KAAK,EAAE;AADK,OAAd;AAGD,KAjCkB;;AAAA,SAkCnBQ,YAlCmB,GAkCJhB,CAAC,IAAI;AAClBG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,CAAC,CAACiB,MAAF,CAASC,KAArB;AACA,WAAKH,QAAL,CAAc;AACZP,QAAAA,KAAK,EAAER,CAAC,CAACiB,MAAF,CAASC;AADJ,OAAd;AAGD,KAvCkB;;AAAA,SAyCnBC,WAzCmB,GAyCL,MAAM;AAClB;AACA,WAAKJ,QAAL,CAAc;AACZK,QAAAA,SAAS,EAAE,CAAC,KAAKX,KAAL,CAAWW;AADX,OAAd,EAFkB,CAKlB;AACD,KA/CkB;;AAAA,SAgDnBC,MAhDmB,GAgDV,MAAM;AACb,WAAKN,QAAL,CAAc;AAAEK,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD,KAlDkB;;AAAA,SAoDnBE,QApDmB,GAoDR,MAAM,KAAKP,QAAL,CAAc;AAAEQ,MAAAA,OAAO,EAAE;AAAX,KAAd,CApDE;;AAAA,SAqDnBC,QArDmB,GAqDR,MAAM,KAAKT,QAAL,CAAc;AAAEQ,MAAAA,OAAO,EAAE;AAAX,KAAd,CArDE;;AAEjB,SAAKd,KAAL,GAAa;AACXgB,MAAAA,QAAQ,EAAE,EADC;AAEXF,MAAAA,OAAO,EAAE,KAFE;AAGXG,MAAAA,OAAO,EAAE,EAHE;AAIX;AACAzB,MAAAA,SAAS,EAAE,EALA;AAMXO,MAAAA,KAAK,EAAE,EANI;AAOXE,MAAAA,WAAW,EAAE;AAPF,KAAb;AASD;;AA4CDiB,EAAAA,MAAM,GAAG;AAAA,wBAC0C,KAAK7B,KAD/C;AAAA,UACC8B,OADD,eACCA,OADD;AAAA,UACUC,OADV,eACUA,OADV;AAAA,UACmBnB,WADnB,eACmBA,WADnB;AAAA,UACgCF,KADhC,eACgCA,KADhC;AAAA,UAECe,OAFD,GAEa,KAAKd,KAFlB,CAECc,OAFD;AAGP,QAAIO,cAAc,GAAGF,OAAO,CAACA,OAA7B,CAHO,CAIP;AACA;;AACA,QAAIA,OAAO,CAACA,OAAR,IAAmBA,OAAO,CAACA,OAAR,CAAgBG,MAAhB,IAA0BF,OAAjD,EAA0D;AACxD;AACA,aACE,oBAAC,eAAD,CAAiB,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGG,QAAQ,IACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGJ,OAAO,CAAClB,WADX,OACwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADxB,EAEGkB,OAAO,CAACA,OAFX,EAEoB,GAFpB,CADF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,OAAO,EAAE,KAAKT,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,UADF,CADF,EAMG,KAAKV,KAAL,CAAWW,SAAX,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,SAAS,EAAC,iBADZ;AAEE,QAAA,QAAQ,EAAEpB,CAAC,IACT,KAAKD,YAAL,CAAkBC,CAAlB,EAAqB4B,OAAO,CAAC3B,SAA7B,CAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAME;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,SAAS,EAAC,gBADZ,CAEE;AAFF;AAGE,QAAA,IAAI,EAAC,MAHP;AAIE,QAAA,KAAK,EAAE,KAAKQ,KAAL,CAAWD,KAJpB,CAKE;AALF;AAME,QAAA,WAAW,EAAC,yBANd;AAOE,QAAA,SAAS,EAAE,IAPb;AAQE,QAAA,QAAQ,EAAE,KAAKQ,YARjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAYE;AAAQ,QAAA,SAAS,EAAC,YAAlB;AAA+B,QAAA,IAAI,EAAC,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAZF,EAeE;AACE,QAAA,SAAS,EAAC,YADZ;AAEE,QAAA,OAAO,EAAE,KAAKK,MAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAfF,CANF,CADF,CADD,GAgCG,IAtCN,EAuCE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAEO,OAAO,CAACK,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvCF,CANF,CADF,CADF,CAFJ,CADF;AA0DD,KA5DD,MA4DO;AACL;AAEA,UAAIV,OAAJ,EAAa;AACX,eACE;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAG,UAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGK,OAAO,CAAClB,WADX,OACwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADxB,EAEGkB,OAAO,CAACA,OAFX,EAGE;AAAG,UAAA,OAAO,EAAE,KAAKJ,QAAjB;AAA2B,UAAA,KAAK,EAAE;AAAEU,YAAAA,KAAK,EAAE;AAAT,WAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHF,CADF,CADF,CADF;AAaD;AACF,KApFM,CAqFP;;;AACA,UAAMC,MAAM,GAAGL,cAAc,CAACM,KAAf,CAAqB,CAArB,EAAwBP,OAAxB,IAAmC,MAAlD;;AAEA,QAAIM,MAAJ,EAAY;AACV,aACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGP,OAAO,CAAClB,WADX,OACwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADxB,EAEGyB,MAFH,EAGE;AAAG,QAAA,OAAO,EAAE,KAAKb,QAAjB;AAA2B,QAAA,KAAK,EAAE;AAAEY,UAAAA,KAAK,EAAE;AAAT,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,GADH,eAEY,GAFZ,CAHF,CADF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,CADF,CADF;AAeD;AACF;;AAjKmC;;AAmKtC,eAAe/C,OAAO,CAACI,YAAD,CAAP,CAAsBI,OAAtB,CAAf","sourcesContent":["import React from \"react\";\nimport { compose } from \"recompose\";\nimport {\n  AuthUserContext,\n  withAuthorization,\n  withEmailVerification\n} from \"../../components/Session\";\nimport { withFirebase } from \"../../components/Firebase\";\nimport ReplyComment from \"../ReplyComment\";\nconst moment = require(\"moment\");\nclass Comment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      comments: [],\n      showAll: false,\n      replies: [],\n      // isOldestFirst: \"\",\n      commentId: \"\",\n      reply: \"\",\n      timeCreated: \"\"\n    };\n  }\n\n  handleSubmit = (e, commentId) => {\n    e.preventDefault();\n    //console.log(\"this is the event\",e)\n    //const {commentId}=this.props.comments.commentId\n    console.log(\"this is the commentId for the reply\", commentId);\n    //console.log(\"show the reply\",this.state.reply)\n    this.props.firebase\n      .replys(commentId)\n      .add({\n        // commentId:commentId,\n        reply: this.state.reply,\n        timeCreated: moment().format(` MMMM DD, YYYY  --  hh:mm:ss A `)\n      })\n      .then(docRef => {\n        console.log(\" this is the replysID \", docRef.id);\n      });\n\n    this.setState({\n      reply: \"\"\n    });\n  };\n  handleChange = e => {\n    console.log(e.target.value);\n    this.setState({\n      reply: e.target.value\n    });\n  };\n\n  togglePopup = () => {\n    //const{commentId}=this.props\n    this.setState({\n      showPopup: !this.state.showPopup\n    });\n    //console.log(\"this is the commentId\", commentId)\n  };\n  cancle = () => {\n    this.setState({ showPopup: false });\n  };\n\n  showMore = () => this.setState({ showAll: true });\n  showLess = () => this.setState({ showAll: false });\n\n  render() {\n    const { comment, limited, timeCreated, reply } = this.props;\n    const { showAll } = this.state;\n    let commentContent = comment.comment;\n    //  const { reply } = this.state;\n    // console.log(\"Here is your comment \", comment);\n    if (comment.comment && comment.comment.length <= limited) {\n      // console.log(\"IF\", comment.comment, comment.comment.length);\n      return (\n        <AuthUserContext.Consumer>\n          {authUser => (\n            <div>\n              <div>\n                <div className=\"commentDisplay\">\n                  <p className=\"styleDisplay\">\n                    {comment.timeCreated} <br />\n                    {comment.comment}{\" \"}\n                  </p>\n\n                  <div>\n                    <div className=\"Reply\">\n                      <button onClick={this.togglePopup}>\n                        <i className=\"fa fa-comment\"> </i>Reply\n                      </button>\n                    </div>\n                    {this.state.showPopup ? (\n                      <div>\n                        <form\n                          className=\"card-addcomment\"\n                          onSubmit={e =>\n                            this.handleSubmit(e, comment.commentId)\n                          }\n                        >\n                          <div className=\"commentgrid\">\n                            <textarea\n                              className=\"commentContent\"\n                              // id=\"reply\"\n                              type=\"text\"\n                              value={this.state.reply}\n                              //name=\"reply\"\n                              placeholder=\"Write your Reply here! \"\n                              autoFocus={true}\n                              onChange={this.handleChange}\n                            ></textarea>\n\n                            <button className=\"submit-btn\" type=\"submit\">\n                              Reply\n                            </button>\n                            <button\n                              className=\"submit-btn\"\n                              onClick={this.cancle}\n                            >\n                              cancle\n                            </button>\n                          </div>\n                        </form>\n                      </div>\n                    ) : null}\n                    <ReplyComment commentID={comment.commentID} />\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </AuthUserContext.Consumer>\n      );\n    } else {\n      //  console.log(\"ELSE\", comment.comment, comment.comment.length);\n\n      if (showAll) {\n        return (\n          <div className=\"card-comment\">\n            <div className=\"commentDisplay\">\n              <p className=\"styleDisplay\">\n                {comment.timeCreated} <br />\n                {comment.comment}\n                <a onClick={this.showLess} style={{ color: \"darkblue\" }}>\n                  Read less\n                </a>\n              </p>\n            </div>\n          </div>\n        );\n      }\n    }\n    //console.log(\"this is commentContent\",commentContent)\n    const toShow = commentContent.slice(0, limited) + \"....\";\n\n    if (toShow) {\n      return (\n        <div className=\"card-comment\">\n          <div className=\"commentDisplay \">\n            <p className=\"styleDisplay\">\n              {comment.timeCreated} <br />\n              {toShow}\n              <a onClick={this.showMore} style={{ color: \"darkblue\" }}>\n                {\" \"}\n                Read More{\" \"}\n              </a>\n            </p>\n            <br />\n          </div>\n        </div>\n      );\n    }\n  }\n}\nexport default compose(withFirebase)(Comment);\n"]},"metadata":{},"sourceType":"module"}