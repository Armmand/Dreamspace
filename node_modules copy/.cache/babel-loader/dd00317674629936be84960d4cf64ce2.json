{"ast":null,"code":"var _jsxFileName = \"/Users/nick/devedit/src/components/ListItem/index.js\";\nimport React from \"react\"; //import myimage from \"../../assets/images/nice-piccy3.jpg\";\n\nimport { withFirebase } from \"../Firebase\";\nimport { compose } from \"recompose\";\nimport { withRouter } from \"react-router-dom\";\nimport { AuthUserContext } from \"../Session\";\nimport ListItem1 from \"../ListItem1\";\nimport \"firebase/auth\";\n\nclass ListItem extends React.Component {\n  constructor(props) {\n    // console.log(\"this is the props value:\" + props)\n    super(props);\n    this.state = {\n      article: [],\n      username: \"\",\n      TotallComment: \"\",\n      totalcount: \"\",\n      sortType: \"asc\",\n      photoUrl: \" \",\n      email: \" \"\n    };\n  }\n\n  openPost(e, article) {\n    // console.log(\"ARTICLE\", article)\n    e.preventDefault();\n    this.props.history.push({\n      pathname: \"/articles/\" + article.uid,\n      params: article.uid,\n      state: {\n        article\n      }\n    });\n  }\n\n  componentDidMount() {\n    const article = this.props.article;\n    this.props.firebase.comments().where(\"articleId\", \"==\", article.uid).onSnapshot(snapshot => {\n      const TotallComment = [];\n      snapshot.forEach(doc => {\n        const data = doc.data();\n        TotallComment.push(data);\n      });\n      this.setState({\n        TotallComment: TotallComment\n      });\n      const totalcount = TotallComment.length;\n      this.setState({\n        totalcount: totalcount\n      });\n      this.setState({\n        isOldestFirst: true,\n        article: article\n      });\n    });\n    let autherId = article.userId;\n    this.unsubscribe = this.props.firebase.user(autherId).get().then(doc => {\n      // console.log(\"userdata\", doc.data())\n      let user = doc.data(); //console.log(\"userphoto\" + user.PhotoURL)\n\n      this.setState({\n        username: user.username,\n        photoUrl: user.photoUrl\n      });\n      console.log(\"userphoto\" + user.photoUrl); // photoUrl = user.photoURL;\n      // console.log( user.photoURL)\n    });\n  }\n\n  render() {\n    //const { upvotes } = this.state;\n    // const { downvotes } = this.state;\n    const article = this.props.article;\n    return React.createElement(AuthUserContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, authUser => React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(ListItem1, {\n      article: article,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"maincontent\",\n      id: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"auther\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"auther-style\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.photoUrl,\n      className: \"user-profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), \"posted by \", this.state.username, \" \", article.timeCreated)), React.createElement(\"div\", {\n      className: \"auther-style\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: this.props.article.url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, this.props.article.title)), React.createElement(\"div\", {\n      className: \"description-style\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, this.props.article.description)), React.createElement(\"div\", {\n      id: \"commentarea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        float: \"right\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"button\",\n      onClick: e => this.openPost(e, article),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \" \", this.state.totalcount, \" \", \" comment \")), React.createElement(\"span\", {\n      style: {\n        float: \"right\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-share\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"share...\")))))));\n  }\n\n}\n\nexport default compose(withFirebase, withRouter)(ListItem);","map":{"version":3,"sources":["/Users/nick/devedit/src/components/ListItem/index.js"],"names":["React","withFirebase","compose","withRouter","AuthUserContext","ListItem1","ListItem","Component","constructor","props","state","article","username","TotallComment","totalcount","sortType","photoUrl","email","openPost","e","preventDefault","history","push","pathname","uid","params","componentDidMount","firebase","comments","where","onSnapshot","snapshot","forEach","doc","data","setState","length","isOldestFirst","autherId","userId","unsubscribe","user","get","then","console","log","render","authUser","timeCreated","url","title","description","float"],"mappings":"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","sourcesContent":["import React from \"react\";\n//import myimage from \"../../assets/images/nice-piccy3.jpg\";\nimport { withFirebase } from \"../Firebase\";\nimport { compose } from \"recompose\";\nimport { withRouter } from \"react-router-dom\";\nimport { AuthUserContext } from \"../Session\";\nimport ListItem1 from \"../ListItem1\";\nimport \"firebase/auth\";\nclass ListItem extends React.Component {\n    constructor(props) {\n        // console.log(\"this is the props value:\" + props)\n        super(props);\n        this.state = {\n            article: [],\n            username: \"\",\n            TotallComment: \"\",\n            totalcount: \"\",\n            sortType: \"asc\",\n            photoUrl: \" \",\n            email:\" \",\n        };\n    }\n    openPost(e, article) {\n        // console.log(\"ARTICLE\", article)\n        e.preventDefault();\n        this.props.history.push({\n            pathname: \"/articles/\" + article.uid,\n            params: article.uid,\n            state: { article }\n        });\n    }\n\n    componentDidMount() {\n        const { article } = this.props;\n        this.props.firebase\n            .comments()\n            .where(\"articleId\", \"==\", article.uid)\n            .onSnapshot(snapshot => {\n                const TotallComment = [];\n                snapshot.forEach(doc => {\n                    const data = doc.data();\n                    TotallComment.push(data);\n                });\n                this.setState({ TotallComment: TotallComment });\n                const totalcount = TotallComment.length;\n                this.setState({ totalcount: totalcount });\n\n                this.setState({\n                    isOldestFirst: true,\n                    article: article\n                })\n            })\n\n\n\n\n        let autherId = article.userId;\n        this.unsubscribe = this.props.firebase\n            .user(autherId)\n            .get()\n            .then(doc => {\n                // console.log(\"userdata\", doc.data())\n                let user = doc.data()\n                //console.log(\"userphoto\" + user.PhotoURL)\n                this.setState({\n\n                    username: user.username,\n                 \n                    photoUrl: user.photoUrl,\n                })\n                console.log(\"userphoto\" + user.photoUrl)\n               // photoUrl = user.photoURL;\n              // console.log( user.photoURL)\n            })\n\n    }\n    render() {\n        //const { upvotes } = this.state;\n        // const { downvotes } = this.state;\n        const { article } = this.props;\n        return (\n            <AuthUserContext.Consumer>\n                {authUser => (\n\n\n                    <div className=\"card\">\n                        <ListItem1 article={article} />\n                        <div className=\"maincontent\" id=\"content\">\n\n                            <div className=\"auther\">\n                                <div className=\"auther-style\">\n                                   \n                                    \n                                        \n                                    <img src={this.state.photoUrl} className=\"user-profile\"\n                                        />\n                                posted by {this.state.username} {article.timeCreated}\n                                   \n                                </div>\n                            </div>\n                            {/*} <div> {this.props.article.tags}</div>*/}\n                            <div className=\"auther-style\">\n                                <a href={this.props.article.url}>{this.props.article.title}</a>\n                            </div>\n\n                            <div className=\"description-style\">\n                                {this.props.article.description}\n                            </div>\n                        </div>\n\n                        <div id=\"commentarea\">\n                            <span style={{ float: \"right\" }}>\n                                <button\n                                    className=\"button\"\n                                    onClick={e => this.openPost(e, article)}>\n\n                                    <i className=\"fa fa-comment\">\n\n                                        {\" \"}\n                                        {this.state.totalcount} {\" comment \"}\n                                    </i>\n                                </button>\n                                <span style={{ float: \"right\" }}>\n                                    <button className=\"button\">\n                                        <i className=\"fa fa-share\">share...</i>\n                                    </button>\n                                </span>\n                            </span>\n                        </div>\n                    </div >\n\n\n\n                )\n                }\n\n\n\n\n\n            </AuthUserContext.Consumer>\n        );\n    }\n}\nexport default compose(withFirebase, withRouter)(ListItem);\n"]},"metadata":{},"sourceType":"module"}